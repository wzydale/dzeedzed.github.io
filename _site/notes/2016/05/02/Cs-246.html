<!DOCTYPE html>
<html>

  <style>
      p, ul {
        font-size: 1.25rem;
      }
  </style>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

    

  <title>CS 246 - Object-Oriented Software Development</title>
  <meta name="description" content="CS 246 - Object-Oriented Software DevelopmentInstructor: Brad LushmanSection: 001Location: MC 4045Time: Tuesdays and Thursdays 10:00am - 11:20amTutorials: MC...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://dzed.me/notes/2016/05/02/Cs-246.html">
  <link rel="alternate" type="application/rss+xml" title="Dadi "D.Z." Zhang" href="http://dzed.me/feed.xml">
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Karma:500' rel='stylesheet' type='text/css'>

</head>


  <body>

    <!-- 
    <link href="/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="/css/homepage.css" type="text/css" rel="stylesheet"/>
  <link href="/css/genericons/genericons.css" type="text/css" rel="stylesheet"/>
 -->
<!-- <header class="site-header">

    <nav class="white site-header" role="navigation">
      <div class="nav-wrapper container">
        <a id="logo-container" href="" class="brand-logo">Dadi "DZ" Zhang</a>

        <ul class="right hide-on-med-and-down">       
          
            
            <a class="page-link" href="/blog.html">Blog</a>
            
          
            
          
            
            <a class="page-link" href="/dreamlist.html">Dream List</a>
            
          
            
          
            
            <a class="page-link" href="/gotutorials.html">Go Tutorials</a>
            
          
            
          
            
          
            
          
            
          
            
            <a class="page-link" href="/notes.html">Notes</a>
            
          
            
            <a class="page-link" href="/projects.html">Projects</a>
            
          
        </ul>
      </div>
    </nav>
    
</header> -->

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Karma:500' rel='stylesheet' type='text/css'>

<style>

/* Fade */
.hvr-fade {
  display: inline-block;
  vertical-align: middle;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  box-shadow: 0 0 1px rgba(0, 0, 0, 0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -moz-osx-font-smoothing: grayscale;
  overflow: hidden;
  -webkit-transition-duration: 0.3s;
  transition-duration: 0.3s;
  -webkit-transition-property: color, background-color;
  transition-property: color, background-color;
}
.hvr-fade:hover, .hvr-fade:focus, .hvr-fade:active {
  background-color: black;
  color: white;
}

.page-link {   
    padding-top: 17px;
    padding-bottom: 17px;
    padding-right: 14px;
    padding-left: 14px;
    margin-left: -24.5px;
    margin-right: -24.5px;
}


.site-title:hover {   
    text-decoration: none;
}

.page-link:hover {
    text-decoration: none;
}

.site-title {
  font-family: "Liberation Serif", serif;
  font-size: 2rem;
}

.trigger a {
  font-family: "Liberation Serif", serif;
}

</style>

<header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Dadi "D.Z." Zhang</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        

      <div class="trigger">
        
          
          <a class="page-link hvr-fade" href="/blog.html">Blog</a>
          
        
          
        
          
          <a class="page-link hvr-fade" href="/dreamlist.html">Dream List</a>
          
        
          
        
          
          <a class="page-link hvr-fade" href="/gotutorials.html">Go Tutorials</a>
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link hvr-fade" href="/notes.html">Notes</a>
          
        
          
          <a class="page-link hvr-fade" href="/projects.html">Projects</a>
          
        
          <a class="page-link hvr-fade" href="/resume/resume.pdf">R&eacutesum&eacute</a>
      </div>
    </nav>

  </div>

</header>

    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">CS 246 - Object-Oriented Software Development</h1>
    <p class="post-meta">
    

    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <div class="highlighter-rouge"><pre class="highlight"><code>CS 246 - Object-Oriented Software Development
Instructor: Brad Lushman
Section: 001
Location: MC 4045
Time: Tuesdays and Thursdays 10:00am - 11:20am
Tutorials: MC 4060 Wednesdays 1:30pm - 2:20pm
Term: Spring 2016
</code></pre>
</div>

<h2 id="may-3-2016---lecture-1">May 3, 2016 - Lecture 1</h2>

<p><strong>Grading Scheme</strong></p>

<ul>
  <li>Assignments - 0(A0) 7 7 7 7 12(project) = 40%</li>
  <li>Midterm (4:30pm - 6:20pm, June 23 (Th), 2016) = 20%</li>
  <li>Final = 40%</li>
</ul>

<p>This course requires you to work in Linux. There are several options:</p>

<ol>
  <li>Lab machines</li>
  <li>Install Linux on your own machines</li>
  <li>Make SSH connection to school machines (Use Putty (putty.exe) on Windows, winscp for file transfer, XMing for Xwindows)</li>
  <li>Download cygwin - Linux-like environment for Windows</li>
  <li>Get a Mac</li>
</ol>

<p><strong>4 Modules in this Course:</strong></p>

<ul>
  <li>Linux Shell (2 weeks)</li>
  <li>C++ Language, C++14 (10 weeks)</li>
  <li>Tools</li>
  <li>Software Engineering (design etc.)</li>
</ul>

<p>“Homework”: Go on Piazza -&gt; Linux Reference Sheet -&gt; Save and print</p>

<h2 id="module-1-linux-shell">Module 1: Linux Shell</h2>

<p>A shell is an interface to the operating system, i.e. how we get the OS to do things (run programs, manage files etc.). There are two kinds of shells: graphical (with icons and clicking) and the command line. The shell we will use is Bash. Check if you are using Bash, login to shell and type in:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ echo $0
</code></pre>
</div>

<p>It should return “bash”.</p>

<p><strong>Linux file system: working with files</strong></p>

<p><strong>cat</strong> - short for concatenate; display contents of a file (e.g. cat user/share/dict/words). In Linux, a directory is considered a special kind of file</p>

<p><strong>ls</strong> - list files in the current directory (non-hidden files)</p>

<p><strong>ls -a</strong> - list all files (including hidden; hidden files start with a “.”)</p>

<p><strong>pwd</strong> - print current directory (pwd = print working directory)</p>

<p>What happens when we only type in “cat”? It just kind of sits there, waiting for input. It’s kinda like a parrot, repeating what you typed in. If we can capture the output into a file…</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ cat &gt; output.txt
</code></pre>
</div>

<p>It would capture the input. NOT RECOMMENDED: ^C. It would prevent cat from doing clean-up. Let it finish on its own: ^D at the beginning of a line sends an “EOF” signal to cat.</p>

<p>One greater than sign replaces, two appends.<br />
In general, command args &gt; file
executes command args + captures the output in file -&gt; called <strong>output redirection</strong>.</p>

<p>Using less than sign, takes in input from the file.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ cat &lt; output.txt
</code></pre>
</div>

<p>The line above displays the file. Seems to be equivalent to what we have before. Are these two things the same? NO. The reason is very important:</p>

<ul>
  <li>
    <p>cat input.txt -&gt; passes the NAME input.txt to cat as an argument. Cat opens input.txt and displays its contents</p>
  </li>
  <li>
    <p>cat &lt; input.txt -&gt; the shell opens the file and passes the contents to cat IN PLACE of keyboard input</p>
  </li>
</ul>

<p><strong>wc</strong> - word count, displays numbers of lines, words, and characters of a file</p>

<p><strong>cat *.txt</strong> - *.txt globbing pattern -&gt; matches any sequence of characters (the shell finds all files that mathch the pattern)</p>

<p><strong>cat &lt; *.txt</strong> - ERROR! The shell will only attach one file to cat’s input stream</p>

<p>Many (but not all) commands take both kinds of inputs:</p>

<p><strong>cat &lt; input.txt &gt; output.txt</strong> - sends chars from input.txt to output.txt; effectively a copy-paste action</p>

<p>Every process is attached to 3 streams. Stdin goes into the program, stdout and stderr come out of the program. Stdin -&gt; program -&gt; stdout and stderr. By default, stdin = keyboard, stdout, stderr = screen. 
&lt; connects stdin to file, &gt; connects stdout to file, 2&gt; stdrr. Stderr separates output stream from error messages, so that output error messages can go to different places, and that error messages don’t cut/block output files.</p>

<p>Also, stdout may be <strong>buffered</strong>. System may assemble characters before displaying. However, stderr isn’t buffered, because user needs to see error messages immediately.</p>

<p><strong>Pipes</strong>: Make one program’s output(stdout) another program’s input(stdin). Example: How many words occur in the first 20 lines of sample.txt?</p>

<div class="highlighter-rouge"><pre class="highlight"><code>head -n file
</code></pre>
</div>

<p>gives the first n lines of file</p>

<div class="highlighter-rouge"><pre class="highlight"><code>wc -w
</code></pre>
</div>

<p>counts words (just print the word count)</p>

<p>so</p>

<div class="highlighter-rouge"><pre class="highlight"><code>head -20 sample.txt | wc -w
</code></pre>
</div>

<table>
  <tbody>
    <tr>
      <td>Here,</td>
      <td>(the pipe symbol) makes the output of the command before it the input of the command after it.</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<h2 id="may-4-2016---tutorial-1">May 4, 2016 - Tutorial 1</h2>

<p>To zip your assignment files, do:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>zip (directory where your files are).zip *
</code></pre>
</div>

<p>in the directory where the files are.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>marmoset_submit cs246 (question, e.g a0) (file you want to submit, zipped)
</code></pre>
</div>

<p>is how you submit assignments to Marmoset.</p>

<p><br /></p>

<h2 id="may-5-2016---lecture-2">May 5, 2016 - Lecture 2</h2>

<p>Suppose we have files words1.txt, words2.txt…, and each of them has one word per line. We want: A duplicate-free list of all the words used in any of these files</p>

<p>We need the following:</p>

<ul>
  <li>sort - sorts lines (man: Write sorted concatenation of all FILES(s) to standard output)</li>
  <li>uniq - remove consecutive duplicate lines from input (man: filter adjacent matching lines from INPUT, writing to OUTPUT)</li>
</ul>

<p>One possibility:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cat words*.txt | uniq
</code></pre>
</div>

<p>What’s the problem with this? We must sort our input first, because for aabaacd, it would produce abacd, with duplicates.</p>

<p>This should work:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cat words*.txt | sort | uniq
</code></pre>
</div>

<p>Sort it first, then call uniq. But there’s still a problem: it’s way too inefficient, beacuse it cat(s) all the files together FIRST, and then sorts it.</p>

<p>This is better:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sort words*.txt | uniq
</code></pre>
</div>

<p>Q: Is it possible to use the output onf one program as a <strong>parameter</strong> to another?</p>

<p>Yes. E.g.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>echo "Today is $(date) and I am $(whoami)"
</code></pre>
</div>

<p>The shell executes date and whoami, and subsitutes the results into the command line.</p>

<p>WARNING:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>echo 'Today is $(date) and I am $(whoami)'
</code></pre>
</div>

<p>This will print the <strong>LITERAL</strong> interpretation, i.e. Today is $(date) and I am $(whoami)<br />
Single quotes do not execute the substitution.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>echo "$(ls words*.txt)"
</code></pre>
</div>

<p>prints a list of names of the text files:<br />
words1.txt<br />
words2.txt<br />
…</p>

<p><strong>Pattern Matching in Text Files</strong><br />
Use egrep (extended global regular expression print) = grep -E</p>

<div class="highlighter-rouge"><pre class="highlight"><code>egrep pattern file
</code></pre>
</div>

<p>returns all lines that contain the pattern.</p>

<p>E.g. print lines that contain “cs246”</p>

<div class="highlighter-rouge"><pre class="highlight"><code>egrep cs246 index.html
</code></pre>
</div>

<p>What about “cs246” OR “CS246”?</p>

<div class="highlighter-rouge"><pre class="highlight"><code>egrep "cs246|CS246" index.html
</code></pre>
</div>

<p>The vertical bar (|) means “OR”, and the double quotes prevent the shell from interpreting the bar as a pipe.</p>

<p>We can use parentheses to group subexpressions together:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>egrep "(cs|CS)246" index.html
</code></pre>
</div>

<p>The patterns that egrep understands are called <strong>regular expressions</strong>. NOT globbing patterns.</p>

<p>“(c|C)(s|S)246” is equivalent to “[cC][sS]246”</p>

<p><strong>[…]</strong> syntax says to match any SINGLE character in he square brackets. (a|1|c|2) is equivalent to [a1c2].</p>

<p><strong>[^…]</strong> matches any 1 character not in the square brackets.</p>

<p>“[cC][sS] ?246” allows for an optional space before the 246. ? syntax says to match 0 or 1 occurrences of the preceding expression.</p>

<p>* syntax which matches 0 or more of the preceding expression. So (cs)*246 -&gt; 246, cs246, cscs246, cscscs246…<br />
cs(cs)*246 matches at least one cs at the front (eliminating the zero case)</p>

<p>(cs)+246 is equivalent to cs(cs)*246. The + syntax matches 1 or more of the preceding expression.</p>

<p>.* will match any sequence of characters</p>

<p>.+ will match any non-empty sequence of characters</p>

<p>“cs *246” matches any string starting with cs, followed by any string, followed by 246.</p>

<p>^ matches beginning of line</p>

<p>$ matches the end of line</p>

<p>^cs246 line starts with cs246</p>

<p>cs246$ line ends with cs246</p>

<p>Want all lines of even length</p>

<p>^(..)*$</p>

<h1 id="the-other-section">The Other Section</h1>

<p>Pipes allow us to hook the stdin of one program to the stdout of another. This is done using the pipe character | between commands</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cmd1 args1 | cmd2 args2
</code></pre>
</div>

<p><strong>Regex Rules</strong>:</p>

<ul>
  <li>Can use parentheses for a sub-pattern</li>
  <li>Can use square brackets to match any one character in the square brackets</li>
  <li>[^…] matches any one character EXCEPT those in the square brackets</li>
  <li>A ? after a pattern or character represents 0 or 1 of that pattern/character</li>
  <li>A * after a pattern/character represents 0 or more of that pattern/character</li>
  <li>A + “1 or more”</li>
  <li>. matches any SINGLE character</li>
  <li>^ and $ match the start and end of line respectively</li>
</ul>

<p>E.g.<br />
.* - anything<br />
.+ - non-empty string<br />
^.+$ - all non-empty lines<br />
^.*$ - all lines</p>

<p>^(..)*$ - grabs all lines with even number of characters</p>

<p><strong>Permissions</strong></p>

<ul>
  <li>ls -l gives the long form listing of the files in the current directory</li>
  <li>First 3 bits: Owner r-read w-write x-execute</li>
  <li>Middle 3 bits: Group</li>
  <li>Last 3 bits: Others</li>
  <li>r: ordinary files-&gt; can be read, directories-&gt; contents can be read, globbing workds, ls works</li>
  <li>w: ordinary files-&gt;can be modified, directories-&gt; contents can be modified, add/remove</li>
  <li>x: file’s contents can be executed as a program, directories-&gt;directories can be navigated (can cd into the directory)</li>
</ul>

<p><strong>Changing Permissions</strong></p>

<ul>
  <li>
    <p>to change permissions use chmod</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  chmod mode file
</code></pre>
    </div>
  </li>
  <li>mode is broken up to 3 parts - user, operator, and permissions</li>
  <li>user is either u (owner), g (group), o (other), or a (all)</li>
  <li>operator is either + (add), - (remove), = (set exactly)</li>
  <li>permissions are r, w, x</li>
</ul>

<p>E.g.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>chmod o+r filename
</code></pre>
</div>

<p>gives other group read access to the file</p>

<div class="highlighter-rouge"><pre class="highlight"><code>chmod o-r filename
</code></pre>
</div>

<p>is the reverse</p>

<div class="highlighter-rouge"><pre class="highlight"><code>chmod a-r filename
</code></pre>
</div>

<p>then nobody can read it</p>

<div class="highlighter-rouge"><pre class="highlight"><code>chmod u=rwx filename
</code></pre>
</div>

<p>then the owner can do anything with it.</p>

<p><strong>Shell Scripts</strong></p>

<p>A shell script is a file containing sequences of shell commands execueted as a program. For example if we wanted to print the date, current user, current dir.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#!/bin/bash (this header tells the OS that this is a Bash script; allows the OS to interpret it the following as bash commands)</span>
date
whoami
<span class="nb">pwd</span>
</code></pre>
</div>

<p>.sh is the standard extension of a bash script, but you can put whatever you want. Don’t forget permissions. Needs to be executable. Use chmod to give it executation rights.</p>

<p><strong>Variables</strong></p>

<ul>
  <li>Variables can be assigned with single equals.</li>
  <li>x=1 (NO SPACES!!!)</li>
  <li>use echo &amp;{x} to grab the value of the variable x (parentheses run what’s inside it in a “subshell”) (curly braces are important: good practice)</li>
</ul>

<p><strong>Shell Script Example</strong></p>

<p>Write a script that takes in a string to check if it is BAD. A string that can be found in a dict is bad.
General format of conditional statements in bash:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if [ cond ]; then // the square brackets cannot "touch" what's inside
...
elif [ cond ]; then
...
else
...
fi
</code></pre>
</div>

<p><strong>$?</strong> contains the return value of the last-run command. 
<strong>$1</strong> retrieves the first parameter</p>

<p>Create a .sh script as follows:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

egrep <span class="s2">"^</span><span class="nv">$1</span><span class="s2">$"</span> /usr/share/dict/words &gt; /dev/null  <span class="c"># /dev/null is where data goes to DIE</span>

<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> -eq 0 <span class="o">]</span>; <span class="k">then</span> //-eq compares
<span class="nb">echo </span>Bad password
<span class="k">else 
</span><span class="nb">echo </span>Maybe not the worst
<span class="k">fi</span>
</code></pre>
</div>

<p>And before you run it,</p>

<div class="highlighter-rouge"><pre class="highlight"><code>chmod u+x goodpass.sh
</code></pre>
</div>

<p>In bash, the pound symbol (#) starts a comment.</p>


  </div>

</article>

<div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//dzklavier.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
      </div>
    </div>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-77018906-1', 'auto');
  ga('send', 'pageview');

</script> 


    <footer class="site-footer">

  <style>
    .footer-col-3 p, .contact-list {
      font-size: 1rem;
    } 
  </style>

  <div class="wrapper">


    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list social-media-list">
          <li>Dadi "D.Z." Zhang</li>
          <li><a href="mailto:d236zhan@uwaterloo.ca">d236zhan@uwaterloo.ca</a></li>
          
          <li>
            <a href="https://github.com/dzeedzed"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">dzeedzed</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        
      </div>

      <div class="footer-col footer-col-3">
        <p>Dadi "D.Z." Zhang | Coder. Developer. Language enthusiast. Go fanatic. Jays fan. Worships 442.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
